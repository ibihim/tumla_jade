var TUMLA=function(){"use strict";var a={};return a.loadTranslations=function(){var a=$("li.active.bookLi").text(),b="/translations/"+a,c=$("translationsHook"),d=function(a){c.append(a)};$.get(b).success(d)},a.addTranslationOnSubmit=function(){var a="li.active.bookLi",b="input#original",c="input#translation",d="/translations",e=$("translationsHook"),f=function(a){e.append(a),$(b).val(""),$(c).val("")},g=function(){alert("ERROR IN YA FACE BIAAATCH!")},h=function(){var e={bookName:$(a).text(),original:$(b).text(),translation:$(c).text()};console.log("postBody"),console.log(e),$.post(d,e).success(f).fail(g)};$("input#translate").click(h)},a.loadBooks=function(b){var c="/books",d=$("li#lastLi"),e=function(c){d.before(c),a.addFunctionalityToBooks(),b()};$.get(c).success(e)},a.addBookOnSubmit=function(){var b="/books",c="input[id='bookName']",d="li.active",e=$("input#btnAddBook"),f=function(b){var c=$(d);c.before(b),c.removeClass("active"),c.prev().slideDown(),a.addFunctionalityToBooks()},g=function(){$(c).val("ERROR!")},h=function(){var a=$(c),d=a.val(),e={bookName:d};$.post(b,e).success(f).fail(g)};e.click(h)},a.deleteBook=function(){var a=$(this),b=a.text(),c={url:"/books/"+b,type:"DELETE"},d=function(){a.slideUp(),a.remove()};$.ajax(c).success(d)},a.addFunctionalityToBooks=function(){var b="li.bookLi",c="i.fa-remove",d=function(){var a=$(this).find(c);a.show()},e=function(){var a=$(this).find(c);a.hide()};$(b).hover(d,e).click(a.deleteBook).slideDown(800)},a}();$(document).ready(function(){TUMLA.loadBooks(function(){TUMLA.loadTranslations()}),TUMLA.addBookOnSubmit()});